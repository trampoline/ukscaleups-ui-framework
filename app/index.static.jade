doctype html
html(lang='en')
  head
    //begin-static-app-name
    title clustermap
    //end-static-app-name
    //app-name
      <title>{{{app-name}}}</title>

    meta(charset='utf-8')
    //if IE
      meta(http-equiv="X-UA-Compatible", content="IE=edge,chrome=1")
    meta(name='viewport', content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0')

    //begin-static-app-name
    meta(name='description', content='clustermap')
    //end-static-app-name
    //app-name
      <meta name="description" content="{{{app-name}}}"/>

    meta(name='author', content='Trampoline Systems Ltd')

    link(type='text/css', rel='stylesheet', href="http://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.css")
    link(type='text/css', rel='stylesheet', href='/css/app.css')

    script(type="text/javascript" src="/js/polyfills.js")
    script(type='text/javascript', src='http://code.jquery.com/jquery-1.11.1.min.js')

    <!--[if lte IE 7]>
    script(type="text/javascript").
      $(document).ready(function(){ $('html').addClass('ie7'); });
    <![endif]-->
    <!--[if IE 8]>
    script(type="text/javascript").
      $(document).ready(function(){ $('html').addClass('ie8'); });
    <![endif]-->
    <!--[if IE 9]>
    script(type="text/javascript").
      $(document).ready(function(){ $('html').addClass('ie9'); });
    <![endif]-->
    <!--[if IE 10]>
    script(type="text/javascript").
      $(document).ready(function(){ $('html').addClass('ie10'); });
    <![endif]-->
    script(type="text/javascript").
      $(document).ready(function(){
        if ($('html').hasClass('ie8')) {
          $('#browser-support').modal();
        }
      });

    script(type='text/javascript', src='http://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js')
    script(type='text/javascript', src='/js/vendor.js')
    script(type='text/javascript', src='http://fb.me/react-0.9.0.js')

    //begin-static-app-config
    script(type='text/javascript').
      window.config={"api":{"prefix": ""}}
    //end-static-app-config
    //app-config
      <script type="text/javascript">window.config={{{app-config}}}</script>

    script.
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      if (window.config.ua && window.config.ua.code) {
        ga('create', window.config.ua.code, 'auto');
        ga('send', 'pageview');
      }

  body.view-map

    #browser-support.modal.fade
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button' data-dismiss='modal' aria-hidden='true') &times;
            h4.
              Partially supported browser
          .modal-body
            p.
              This browser is only partially supported : some application features may not work correctly or may perform poorly
            p.
              For a better experience try one of :
            ul
              li
                a(href='http://www.google.com/chrome/') Chrome
              li
                a(href='http://www.mozilla.org/en-US/firefox/new/') Firefox
              li
                a(href='http://windows.microsoft.com/en-us/internet-explorer/download-ie') Internet Explorer v9 or newer

    #page-info.modal.fade
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button' data-dismiss='modal' aria-hidden='true') &times;
            h4.
              Clustermap
          .modal-body
            p.
              Clustermap
            p
              | Please contact&ensp;
              a(href="mailto:clustermap@trampolinesystems.com") clustermap@trampolinesystems.com
              | &ensp;if you have any comments or questions.


    #page-methodology.modal.fade
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type='button' data-dismiss='modal' aria-hidden='true') &times;
            h4.
              Methodology
          .modal-body
            p.
              Methodology

    #wrap
      header#page-header
        .inner
          h1 Top 50
          ul.nav-links
            li: a.view-map.active(href="#") Map
            li: a.view-lists(href="#") Top 50 Report

      section#page-intro
        .inner
          .col
            h1
              | Data, visualisation and analysis showcasing Britain&#8217;s high growth companies
            a(href="/#/map")
              button(type='button').btn Map
          .col
            p
              | This site was created by growth data specialists&nbsp;
              a(href="http://www.trampolinesystems.com" target="_blank") Trampoline Systems
              | &nbsp;to highlight the fastest-growing businesses across the UK as an
              | accompaniment to the&nbsp;
              a(href="http://www.scaleupreport.org" target="_blank") Scale-up Report.

            p
              | The analysis covers every company in the UK and follows the OECD definition of&nbsp;
              i high growth.
              | &nbsp;This requires a minimum of 20% growth in either revenue or employment over two
              | successive years.

            p
              | The Top 50 Report shows a league table of the fastest-growing companies linking to further details.
              | The Map shows the distribution of high growth businesses around the UK. Zoom in to see where individual
              | companies are located. Click on a region to see its statistics.

      section#main
        .container
          header#main-header

          #main-content

            #page-map
              #map-report.open
                a(href='#')
                  i Show / hide

                aside
                  header.primary
                    h1 Britain&#8217;s high growth companies visualised
                    h2 by Trampoline Systems
                  small zoom or select a region for more detail

                  h1#map-boundaryline-selection

                  #map-report-component
                    // header.secondary
                    //   h2 -
                    //   h3 -
                    //   // button(type='reset').btn-reset Reset to UK wide

                    // ul
                    //   li
                    //     | -
                    //     small Companies
                    //   li
                    //     | -
                    //     small Total revenue
                    //   li
                    //     | -
                    //     small Total employees

                  a(href='/#/lists').btn
                    | Top 50 Report

                  header.secondary
                    h2 No. of Scale-ups per 100k residents
                  #color-scale-component

              #map-component

            #page-lists
              .inner
                .div-scroll
                  .div-fixed

                    #full-report-component

                      h1#lists-boundaryline-selection

                      #revenue-bands-table
                        // .table-responsive
                        //   table.table-stats
                        //     thead
                        //       tr
                        //         th &nbsp;
                        //         th Investor-backed companies
                        //         th Investors
                        //         th Constituencies
                        //         th Revenue
                        //         th Rev. change
                        //         th Employees
                        //     tbody
                        //       tr
                        //         th
                        //           i.icon-info(data-toggle='tooltip', data-container='body', title='Total')
                        //           | Total
                        //         td
                        //           span.totals -
                        //         td
                        //           span.totals -
                        //         td
                        //           span.totals -
                        //         td
                        //           span.totals -
                        //         td
                        //           span.totals -
                        //         td
                        //           span.totals -
                        //       tr
                        //         th
                        //           i.icon-info(data-toggle='tooltip', data-container='body', title='Average')
                        //           | Average
                        //         td
                        //           span.averages -
                        //         td
                        //           span.averages -
                        //         td
                        //           span.averages -
                        //         td
                        //           span.averages -
                        //         td
                        //           span.averages -
                        //         td
                        //           span.averages -

                      #scaleup-factor-table
                        .table-responsive
                          table.table-stats
                            thead
                              tr.row-1
                                th.col-1 &nbsp;
                                th.col-2 Current
                                th.col-3 Previous
                                th.col-4 &nbsp;
                            tbody
                              tr.row-1
                                td.col-1 New Scale-ups
                                td#new-scaleups-count.col-2
                                td#previously-new-scaleups-count.col-3
                                td.col-4 &nbsp;

                      .full-report-overview
                        h2 Top 50

                      // #full-report-charts
                      //   .grid
                      //     .tbl
                      //       .tbl-cell.charts
                      //         .tbl
                      //           .tbl-row
                      //             .tbl-cell
                      //               .box.box-first
                      //                 header Turnover
                      //                 #turnover-timeline

                      #rankings-table
                        // .table-responsive
                        //   table.table
                        //     thead
                        //       tr
                        //         th Investor-backed company
                        //         th Postcode
                        //         th Investor
                        //         th Revenue
                        //         th Rev. change
                        //         th Employess
                        //         th Emp. change
                        //     tbody
                        //       - var i = 1;
                        //       - while(i--)
                        //         tr
                        //           td
                        //             a(href='#') -
                        //           td -
                        //           td
                        //             a(href='#') -
                        //           td
                        //             | -
                        //             small &nbsp;(-)
                        //           td
                        //             | -
                        //             i.icon-negative
                        //           td
                        //             | -
                        //             small &nbsp;(-)
                        //           td
                        //             | -
                        //             i.icon-positive
                      p
                        small * estimated figure

                      // .full-report-details
                      //   .grid
                      //     .tbl
                      //       .tbl-cell.charts
                      //         .tbl
                      //           .tbl-row
                      //             .tbl-cell
                      //               .box.box-first
                      //                 header -
                      //                 div
                      //                   p -
                      //                   p -
                      //                   p -
                      //             .tbl-cell
                      //               .box.box-last
                      //                 header -
                      //                 div
                      //                   p -
                      //                   p -
                      //           .tbl-row
                      //             .tbl-cell
                      //               .box.box-first
                      //                 header -
                      //                 div
                      //                   p -
                      //                   p -
                      //             .tbl-cell
                      //               .box.box-last
                      //                 header -
                      //                 div
                      //                   p -
                      //                   p -
                      //                   p -

                      //       .tbl-cell.details
                      //         .tbl
                      //           .tbl-cell
                      //             .box
                      //               header -
                      //               div
                      //                 ul
                      //                   li -
                      //                   li -
                      //                   li -
                      //                   li -
                      //                 p: a(href='#') Show more...
                      //         .tbl
                      //           .tbl-cell
                      //             .box
                      //               header -
                      //               div
                      //                 ul
                      //                   li -
                      //                   li -
                      //                   li -
                      //                   li -
                      //                 p: a(href='#') Show more...
                      //         .tbl
                      //           .tbl-cell
                      //             .box
                      //               header -
                      //               div
                      //                 ul
                      //                   li -
                      //                   li -
                      //                 li -
                      //                 li -
                      //               p: a(href='#') Show more...

          footer#main-footer
            .inner
              .trampoline
                p
                  | Data and analytics by&nbsp;
                  a(href='http://www.trampolinesystems.com/') Trampoline Systems
                p
                  a(href='mailto:clustermap-issues@trampolinesystems.com?subject=Cabmridge 50 issue report') Report issue

    //begin-static-base-js
    script(type="text/javascript", src="cljs/goog/base.js")
    //end-static-base-js
    //base-js
      {{{base-js}}}

    //begin-static-dynamic-js
    <script type="text/javascript" src="clustermap.js"></script><script type="text/javascript">goog.require("clustermap.core");</script>
    //end-static-dynamic-js
    //dynamic-js
      <script type="text/javascript" src="clustermap.js"></script><script type="text/javascript">goog.require("clustermap.core");</script>

    //begin-static-repl-js
    //end-static-repl-js
    //repl-js
      <script type="text/javascript">{{{repl-js}}}</script>

//end
